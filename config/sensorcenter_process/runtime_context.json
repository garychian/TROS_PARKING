{
  "modules": [
        {
          "module_id": "APAContextModule",
          "class_name": "APAContextModule",
          "package": "../../libs/libapa.so"
      },
    {
      "module_id": "SensorCenterModule",
      "class_name": "hobot::sensors::SensorCenterModule",
      "package": "../../libs/libsensor_center-share.so",
      "user_config": "module/SensorCenterModule.json"
    },
    {
      "module_id": "IpmTransformationModule",
      "class_name": "IpmTransformationModule",
      "package": "../../libs/libapa.so",
      "user_config": "module/IpmTransformationModule.json",
      "inputs": [
        {
          "port_id": "sub_camera_array",
          "topic": "camera_array_without_ipm",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "shm"
          }
        }
      ],
      "outputs": [
        {
          "port_id": "pub_camera_array",
          "topic": "apa_camera_array",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "shm"
          }
        }
      ],
      "procs": [
        {
          "proc_id": "TransformToIpmProc",
          "disable": false,
          "proc_type": "MsgCondTriggerProc",
          "schedule_group": {
            "scheduler_name": "TP_GDC"
          }
        }
      ]
    },
    {
	  "module_id": "EncodeModule",
      "class_name": "EncodeModule",
      "package": "../../libs/libapa.so",
      "user_config": "module/EncodeModule.json",
      "inputs": [
        {
          "port_id": "sub_camera_array",
          "topic": "apa_camera_array",
		  "communication": {
            "domain_id": 0,
            "comm_protocol": "shm"
          }
        }
      ],
      "outputs": [
        {
          "port_id": "pub_cropped_image_0",
          "topic": "/apa/encode/cropped_image_0"
        },
        {
          "port_id": "pub_cropped_image_1",
          "topic": "/apa/encode/cropped_image_1"
        },
        {
          "port_id": "pub_cropped_image_2",
          "topic": "/apa/encode/cropped_image_2"
        },
        {
          "port_id": "pub_cropped_image_3",
          "topic": "/apa/encode/cropped_image_3"
        },
        {
          "port_id": "pub_cylinder_image_0",
          "topic": "/apa/encode/cylinder_image_0"
        },
        {
          "port_id": "pub_cylinder_image_1",
          "topic": "/apa/encode/cylinder_image_1"
        },
        {
          "port_id": "pub_cylinder_image_2",
          "topic": "/apa/encode/cylinder_image_2"
        },
        {
          "port_id": "pub_cylinder_image_3",
          "topic": "/apa/encode/cylinder_image_3"
        },
        {
          "port_id": "pub_image_0",
          "topic": "/apa/encode/image_0"
        },
        {
          "port_id": "pub_image_1",
          "topic": "/apa/encode/image_1"
        },
        {
          "port_id": "pub_image_2",
          "topic": "/apa/encode/image_2"
        },
        {
          "port_id": "pub_image_3",
          "topic": "/apa/encode/image_3"
        },
        {
          "port_id": "pub_ipm_image",
          "topic": "/apa/encode/ipm_image"
        }
      ],
      "procs": [
        {
          "proc_id": "StitchedIpmEncodeProc",
          "disable": false,
          "proc_type": "MsgCondTriggerProc",
          "proc_option": {
            "expression": "sub_camera_array[1]"
          },
          "schedule_group": {
            "scheduler_name": "TP_ENC_ST"
          }
        },
        {
          "proc_id": "CameraEncodeProc",
          "disable": false,
          "proc_type": "MsgCondTriggerProc",
          "proc_option": {
            "expression": "sub_camera_array[1]"
          },
          "schedule_group": {
            "scheduler_name": "TP_ENCODE"
          }
        }
      ]
    },    {
	  "module_id": "CollectorModule",
      "class_name": "CollectorModule",
      "package": "../../libs/libapa.so",
      "user_config": "module/CollectorModule.json",
      "inputs": [
        {
          "port_id": "sub_cropped_image_0",
          "topic": "/apa/encode/cropped_image_0"
        },
        {
          "port_id": "sub_cropped_image_1",
          "topic": "/apa/encode/cropped_image_1"
        },
        {
          "port_id": "sub_cropped_image_2",
          "topic": "/apa/encode/cropped_image_2"
        },
        {
          "port_id": "sub_cropped_image_3",
          "topic": "/apa/encode/cropped_image_3"
        },
        {
          "port_id": "sub_cylinder_image_0",
          "topic": "/apa/encode/cylinder_image_0"
        },
        {
          "port_id": "sub_cylinder_image_1",
          "topic": "/apa/encode/cylinder_image_1"
        },
        {
          "port_id": "sub_cylinder_image_2",
          "topic": "/apa/encode/cylinder_image_2"
        },
        {
          "port_id": "sub_cylinder_image_3",
          "topic": "/apa/encode/cylinder_image_3"
        },
        {
          "port_id": "sub_image_0",
          "topic": "/apa/encode/image_0"
        },
        {
          "port_id": "sub_image_1",
          "topic": "/apa/encode/image_1"
        },
        {
          "port_id": "sub_image_2",
          "topic": "/apa/encode/image_2"
        },
        {
          "port_id": "sub_image_3",
          "topic": "/apa/encode/image_3"
        },
        {
          "port_id": "sub_ipm_image",
          "topic": "/apa/encode/ipm_image"
        },
        {
          "port_id": "sub_camera_perception_0",
          "topic": "/apa/runinfer/camera_perception_0"
        },
        {
          "port_id": "sub_camera_perception_1",
          "topic": "/apa/runinfer/camera_perception_1"
        },
        {
          "port_id": "sub_camera_perception_2",
          "topic": "/apa/runinfer/camera_perception_2"
        },
        {
          "port_id": "sub_camera_perception_3",
          "topic": "/apa/runinfer/camera_perception_3"
        },
        {
          "port_id": "sub_cylinder_perception_0",
          "topic": "/apa/runinfer/cylinder_perception_0"
        },
        {
          "port_id": "sub_cylinder_perception_1",
          "topic": "/apa/runinfer/cylinder_perception_1"
        },
        {
          "port_id": "sub_cylinder_perception_2",
          "topic": "/apa/runinfer/cylinder_perception_2"
        },
        {
          "port_id": "sub_cylinder_perception_3",
          "topic": "/apa/runinfer/cylinder_perception_3"
        },
        {
          "port_id": "sub_ipm_perception",
          "topic": "/apa/runinfer/ipm_perception"
        }
      ],
      "outputs": [
        {
          "port_id": "pub_cropped_image_0",
          "topic": "cropped_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 10
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cropped_image_1",
          "topic": "cropped_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 11
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cropped_image_2",
          "topic": "cropped_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 12
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cropped_image_3",
          "topic": "cropped_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 13
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cylinder_image_0",
          "topic": "cylinder_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 10
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cylinder_image_1",
          "topic": "cylinder_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 11
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cylinder_image_2",
          "topic": "cylinder_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 12
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cylinder_image_3",
          "topic": "cylinder_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 13
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_image_0",
          "topic": "image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 10
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_image_1",
          "topic": "image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 11
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_image_2",
          "topic": "image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 12
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_image_3",
          "topic": "image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 13
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_ipm_image",
          "topic": "ipm_image",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 14
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_camera_perception_0",
          "topic": "camera_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 10
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_camera_perception_1",
          "topic": "camera_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 11
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_camera_perception_2",
          "topic": "camera_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 12
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_camera_perception_3",
          "topic": "camera_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 13
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cylinder_perception_0",
          "topic": "cylinder_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 10
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cylinder_perception_1",
          "topic": "cylinder_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 11
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cylinder_perception_2",
          "topic": "cylinder_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 12
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_cylinder_perception_3",
          "topic": "cylinder_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 13
                }
              ]
            }
          }
        },
        {
          "port_id": "pub_ipm_perception",
          "topic": "ipm_perception",
          "communication": {
            "domain_id": 0,
            "comm_protocol": "zmq_tcp",
            "comm_attr": {
              "participants": [
                {
                  "id": 14
                }
              ]
            }
          }
        }
      ],
      "procs": [
        {
          "proc_id": "SendAfterSyncProc",
          "disable": false,
          "special_comment": "please keep false, and control this in CollectModule.json",
          "proc_type": "MsgTimeStampSyncTriggerProc",
          "proc_option": {
            "approximate_time_threshold": 10,
            "msg_timeout_threshold": 100
          },
          "schedule_group": {
            "scheduler_name": "TP_COLLECTOR"
          }
        },
        {
          "proc_id": "SendWithoutSyncProc",
          "disable": false,
          "special_comment": "please keep false, and control this in CollectModule.json",
          "proc_type": "MsgCondTriggerProc",
          "proc_option": {
            "expression": "sub_cropped_image_0[1] || sub_cylinder_image_0[1] || sub_image_0[1] || sub_camera_perception_0[1] || sub_cylinder_perception_0[1] || sub_cropped_image_1[1] || sub_cylinder_image_1[1] || sub_image_1[1] || sub_camera_perception_1[1] || sub_cylinder_perception_1[1] || sub_cropped_image_2[1] || sub_cylinder_image_2[1] || sub_image_2[1] || sub_camera_perception_2[1] || sub_cylinder_perception_2[1] || sub_cropped_image_3[1] || sub_cylinder_image_3[1] || sub_image_3[1] || sub_camera_perception_3[1] || sub_cylinder_perception_3[1] || sub_ipm_image[1] || sub_ipm_perception[1]"
          },
          "schedule_group": {
            "scheduler_name": "TP_COLLECTOR"
          }
        }
      ]
    }
  ]
}